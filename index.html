<!DOCTYPE html>
<html>
<head>
    <title>Flappy Bird Clone</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #4ec0ca;
            touch-action: manipulation;
            overflow: hidden;
        }

        #game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        #bird {
            position: absolute;
            width: 40px;
            height: 40px;
            transition: transform 0.1s;
            z-index: 2;
        }

        .pipe {
            position: absolute;
            width: 60px;
            z-index: 1;
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            animation: float 20s infinite linear;
            z-index: 0;
        }

        #score {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            font-family: Arial;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 3;
        }

        @keyframes float {
            from { transform: translateX(100vw); }
            to { transform: translateX(-100%); }
        }

        @keyframes flap {
            0% { transform: rotate(-30deg); }
            50% { transform: rotate(10deg); }
            100% { transform: rotate(-30deg); }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="score">0</div>
        <img id="bird" src="https://img.freepik.com/free-psd/vibrant-yellow-bird-flight-stunning-display-avian-beauty_191095-78032.jpg">
    </div>

    <script>
        const bird = document.getElementById('bird');
        const gameContainer = document.getElementById('game-container');
        const scoreElement = document.getElementById('score');
        let velocity = 0;
        let position = 200;
        let score = 0;
        let gameRunning = true;
        let pipeGap = 200;
        let pipeWidth = 60;

        // Bird physics
        const gravity = 0.5;
        const jump = -10;

        // Touch/mouse controls
        document.addEventListener('touchstart', handleInput);
        document.addEventListener('mousedown', handleInput);

        function handleInput(e) {
            if (gameRunning) {
                velocity = jump;
                bird.style.transform = `rotate(-30deg)`;
                setTimeout(() => {
                    bird.style.transform = `rotate(30deg)`;
                }, 100);
            } else {
                resetGame();
            }
        }

        function createPipe() {
            const gapPosition = Math.random() * (window.innerHeight - pipeGap - 100) + 50;
            
            // Create top pipe
            const topPipe = document.createElement('img');
            topPipe.className = 'pipe';
            topPipe.style.transform = 'rotate(180deg)';
            topPipe.src = 'https://png.pngtree.com/png-vector/20240312/ourmid/pngtree-green-leaf-for-element-png-image_11934356.png';
            topPipe.style.height = gapPosition + 'px';
            topPipe.style.left = window.innerWidth + 'px';
            topPipe.style.top = '0';
            gameContainer.appendChild(topPipe);

            // Create bottom pipe
            const bottomPipe = document.createElement('img');
            bottomPipe.className = 'pipe';
            bottomPipe.src = 'https://png.pngtree.com/png-vector/20240312/ourmid/pngtree-green-leaf-for-element-png-image_11934356.png';
            bottomPipe.style.height = (window.innerHeight - gapPosition - pipeGap) + 'px';
            bottomPipe.style.left = window.innerWidth + 'px';
            bottomPipe.style.bottom = '0';
            gameContainer.appendChild(bottomPipe);

            // Score tracking
            let passed = false;
            function movePipe() {
                if (!gameRunning) return;
                const currentLeft = parseFloat(topPipe.style.left);
                topPipe.style.left = (currentLeft - 2) + 'px';
                bottomPipe.style.left = (currentLeft - 2) + 'px';

                // Score counting
                if (currentLeft < window.innerWidth/2 && !passed) {
                    score++;
                    scoreElement.textContent = score;
                    passed = true;
                }

                // Remove pipes when offscreen
                if (currentLeft < -pipeWidth) {
                    topPipe.remove();
                    bottomPipe.remove();
                }

                checkCollision(topPipe, bottomPipe);
                requestAnimationFrame(movePipe);
            }
            movePipe();
        }

        function checkCollision(topPipe, bottomPipe) {
            const birdRect = bird.getBoundingClientRect();
            const topPipeRect = topPipe.getBoundingClientRect();
            const bottomPipeRect = bottomPipe.getBoundingClientRect();

            if (
                birdRect.right > topPipeRect.left &&
                birdRect.left < topPipeRect.right &&
                (birdRect.top < topPipeRect.bottom || birdRect.bottom > bottomPipeRect.top)
            ) {
                gameOver();
            }
        }

        function createCloud() {
            const cloud = document.createElement('div');
            cloud.className = 'cloud';
            cloud.style.width = Math.random() * 100 + 50 + 'px';
            cloud.style.height = Math.random() * 50 + 25 + 'px';
            cloud.style.top = Math.random() * window.innerHeight + 'px';
            gameContainer.appendChild(cloud);
        }

        function gameOver() {
            gameRunning = false;
            velocity = 0;
            document.body.style.backgroundColor = '#ff4444';
        }

        function resetGame() {
            position = 200;
            velocity = 0;
            score = 0;
            gameRunning = true;
            document.body.style.backgroundColor = '#4ec0ca';
            scoreElement.textContent = '0';
            document.querySelectorAll('.pipe, .cloud').forEach(element => element.remove());
            bird.style.top = position + 'px';
            startGame();
        }

        function gameLoop() {
            if (!gameRunning) return;

            velocity += gravity;
            position += velocity;
            bird.style.top = position + 'px';

            // Boundary check
            if (position < 0 || position > window.innerHeight - 40) {
                gameOver();
            }

            requestAnimationFrame(gameLoop);
        }

        function startGame() {
            // Create initial clouds
            setInterval(createCloud, 5000);
            Array.from({length: 5}).forEach(createCloud);

            // Create pipes
            setInterval(createPipe, 1500);

            // Start game loop
            gameLoop();
        }

        // Initial setup
        bird.style.top = position + 'px';
        startGame();
    </script>
</body>
</html>
